<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>DozenValues</title>
    <link rel=icon type=x-icon href="icon.png" />
    <link rel="shortcut icon" type=x-icon href="icon.png" />
    <meta property=og:title content="DozenValues" />
    <meta property=og:description
        content="DozenValues is a political test that aims to map differing political perspectives onto six axes." />
    <meta property=og:url content="https://quark88.github.io/dozenvalues" />
    <meta property=og:image content="https://github.com/QUARK88/dozenvalues/blob/master/icons/icon.png?raw=true" />
    <meta property=og:type content="Political test" />
    <meta property=og:locale content="en_US" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>DozenValues</h1>
    <h2 style="text-align:center">Lister</h2>
    <h2><span id=match0></span></h2>
    <h2><span id=match1></span></h2>
    <h2><span id=match2></span></h2>
    <h2><span id=match3></span></h2>
    <h2><span id=match4></span></h2>
    <h2><span id=match5></span></h2>
    <h2><span id=match6></span></h2>
    <h2><span id=match7></span></h2>
    <h2><span id=match8></span></h2>
    <h2><span id=match9></span></h2>
    <h2><span id=match10></span></h2>
    <h2><span id=match11></span></h2>
    <h2><span id=match12></span></h2>
    <h2><span id=match13></span></h2>
    <h2><span id=match14></span></h2>
    <h2><span id=match15></span></h2>
    <h2><span id=match16></span></h2>
    <h2><span id=match17></span></h2>
    <h2><span id=match18></span></h2>
    <h2><span id=match19></span></h2>
    <h2><span id=match20></span></h2>
    <h2><span id=match21></span></h2>
    <h2><span id=match22></span></h2>
    <h2><span id=match23></span></h2>
    <h2><span id=match24></span></h2>
    <h2><span id=match25></span></h2>
    <h2><span id=match26></span></h2>
    <h2><span id=match27></span></h2>
    <h2><span id=match28></span></h2>
    <h2><span id=match29></span></h2>
    <h2><span id=match30></span></h2>
    <h2><span id=match31></span></h2>
    <h2><span id=match32></span></h2>
    <h2><span id=match33></span></h2>
    <h2><span id=match34></span></h2>
    <h2><span id=match35></span></h2>
    <h2><span id=match36></span></h2>
    <h2><span id=match37></span></h2>
    <h2><span id=match38></span></h2>
    <h2><span id=match39></span></h2>
    <h2><span id=match40></span></h2>
    <h2><span id=match41></span></h2>
    <h2><span id=match42></span></h2>
    <h2><span id=match43></span></h2>
    <h2><span id=match44></span></h2>
    <h2><span id=match45></span></h2>
    <h2><span id=match46></span></h2>
    <h2><span id=match47></span></h2>
    <h2><span id=match48></span></h2>
    <h2><span id=match49></span></h2>
    <h2><span id=match50></span></h2>
    <h2><span id=match51></span></h2>
    <h2><span id=match52></span></h2>
    <h2><span id=match53></span></h2>
    <h2><span id=match54></span></h2>
    <h2><span id=match55></span></h2>
    <h2><span id=match56></span></h2>
    <h2><span id=match57></span></h2>
    <h2><span id=match58></span></h2>
    <h2><span id=match59></span></h2>
    <h2><span id=match60></span></h2>
    <h2><span id=match61></span></h2>
    <h2><span id=match62></span></h2>
    <h2><span id=match63></span></h2>
    <h2><span id=match64></span></h2>
    <h2><span id=match65></span></h2>
    <h2><span id=match66></span></h2>
    <h2><span id=match67></span></h2>
    <h2><span id=match68></span></h2>
    <h2><span id=match69></span></h2>
    <h2><span id=match70></span></h2>
    <h2><span id=match71></span></h2>
    <h2><span id=match72></span></h2>
    <h2><span id=match73></span></h2>
    <h2><span id=match74></span></h2>
    <h2><span id=match75></span></h2>
    <h2><span id=match76></span></h2>
    <h2><span id=match77></span></h2>
    <h2><span id=match78></span></h2>
    <h2><span id=match79></span></h2>
    <h2><span id=match80></span></h2>
    <h2><span id=match81></span></h2>
    <h2><span id=match82></span></h2>
    <h2><span id=match83></span></h2>
    <h2><span id=match84></span></h2>
    <h2><span id=match85></span></h2>
    <h2><span id=match86></span></h2>
    <h2><span id=match87></span></h2>
    <h2><span id=match88></span></h2>
    <h2><span id=match89></span></h2>
    <h2><span id=match90></span></h2>
    <h2><span id=match91></span></h2>
    <h2><span id=match92></span></h2>
    <h2><span id=match93></span></h2>
    <h2><span id=match94></span></h2>
    <h2><span id=match95></span></h2>
    <h2><span id=match96></span></h2>
    <h2><span id=match97></span></h2>
    <h2><span id=match98></span></h2>
    <h2><span id=match99></span></h2>
    <h2><span id=match100></span></h2>
    <h2><span id=match101></span></h2>
    <h2><span id=match102></span></h2>
    <h2><span id=match103></span></h2>
    <h2><span id=match104></span></h2>
    <h2><span id=match105></span></h2>
    <h2><span id=match106></span></h2>
    <h2><span id=match107></span></h2>
    <h2><span id=match108></span></h2>
    <h2><span id=match109></span></h2>
    <h2><span id=match110></span></h2>
    <h2><span id=match111></span></h2>
    <h2><span id=match112></span></h2>
    <h2><span id=match113></span></h2>
    <h2><span id=match114></span></h2>
    <h2><span id=match115></span></h2>
    <h2><span id=match116></span></h2>
    <h2><span id=match117></span></h2>
    <h2><span id=match118></span></h2>
    <h2><span id=match119></span></h2>
    <h2><span id=match120></span></h2>
    <h2><span id=match121></span></h2>
    <h2><span id=match122></span></h2>
    <h2><span id=match123></span></h2>
    <h2><span id=match124></span></h2>
    <h2><span id=match125></span></h2>
    <h2><span id=match126></span></h2>
    <h2><span id=match127></span></h2>
    <h2><span id=match128></span></h2>
    <h2><span id=match129></span></h2>
    <h2><span id=match130></span></h2>
    <h2><span id=match131></span></h2>
    <h2><span id=match132></span></h2>
    <h2><span id=match133></span></h2>
    <h2><span id=match134></span></h2>
    <h2><span id=match135></span></h2>
    <h2><span id=match136></span></h2>
    <h2><span id=match137></span></h2>
    <h2><span id=match138></span></h2>
    <h2><span id=match139></span></h2>
    <h2><span id=match140></span></h2>
    <h2><span id=match141></span></h2>
    <h2><span id=match142></span></h2>
    <h2><span id=match143></span></h2>
    <h2><span id=match144></span></h2>
    <h2><span id=match145></span></h2>
    <h2><span id=match146></span></h2>
    <h2><span id=match147></span></h2>
    <h2><span id=match148></span></h2>
    <h2><span id=match149></span></h2>
    <h2><span id=match150></span></h2>
    <h2><span id=match151></span></h2>
    <h2><span id=match152></span></h2>
    <h2><span id=match153></span></h2>
    <h2><span id=match154></span></h2>
    <h2><span id=match155></span></h2>
    <h2><span id=match156></span></h2>
    <h2><span id=match157></span></h2>
    <h2><span id=match158></span></h2>
    <h2><span id=match159></span></h2>
    <h2><span id=match160></span></h2>
    <h2><span id=match161></span></h2>
    <h2><span id=match162></span></h2>
    <h2><span id=match163></span></h2>
    <h2><span id=match164></span></h2>
    <h2><span id=match165></span></h2>
    <h2><span id=match166></span></h2>
    <h2><span id=match167></span></h2>
    <h2><span id=match168></span></h2>
    <h2><span id=match169></span></h2>
    <h2><span id=match170></span></h2>
    <h2><span id=match171></span></h2>
    <h2><span id=match172></span></h2>
    <h2><span id=match173></span></h2>
    <h2><span id=match174></span></h2>
    <h2><span id=match175></span></h2>
    <h2><span id=match176></span></h2>
    <h2><span id=match177></span></h2>
    <h2><span id=match178></span></h2>
    <h2><span id=match179></span></h2>
    <h2><span id=match180></span></h2>
    <h2><span id=match181></span></h2>
    <h2><span id=match182></span></h2>
    <h2><span id=match183></span></h2>
    <h2><span id=match184></span></h2>
    <h2><span id=match185></span></h2>
    <h2><span id=match186></span></h2>
    <h2><span id=match187></span></h2>
    <h2><span id=match188></span></h2>
    <h2><span id=match189></span></h2>
    <h2><span id=match190></span></h2>
    <h2><span id=match191></span></h2>
    <h2><span id=match192></span></h2>
    <h2><span id=match193></span></h2>
    <h2><span id=match194></span></h2>
    <h2><span id=match195></span></h2>
    <h2><span id=match196></span></h2>
    <h2><span id=match197></span></h2>
    <h2><span id=match198></span></h2>
    <h2><span id=match199></span></h2>
    <h2><span id=match200></span></h2>
    <h2><span id=match201></span></h2>
    <h2><span id=match202></span></h2>
    <h2><span id=match203></span></h2>
    <h2><span id=match204></span></h2>
    <h2><span id=match205></span></h2>
    <h2><span id=match206></span></h2>
    <h2><span id=match207></span></h2>
    <h2><span id=match208></span></h2>
    <h2><span id=match209></span></h2>
    <h2><span id=match210></span></h2>
    <h2><span id=match211></span></h2>
    <h2><span id=match212></span></h2>
    <h2><span id=match213></span></h2>
    <h2><span id=match214></span></h2>
    <h2><span id=match215></span></h2>
    <h2><span id=match216></span></h2>
    <h2><span id=match217></span></h2>
    <h2><span id=match218></span></h2>
    <h2><span id=match219></span></h2>
    <h2><span id=match220></span></h2>
    <h2><span id=match221></span></h2>
    <h2><span id=match222></span></h2>
    <h2><span id=match223></span></h2>
    <h2><span id=match224></span></h2>
    <h2><span id=match225></span></h2>
    <h2><span id=match226></span></h2>
    <h2><span id=match227></span></h2>
    <h2><span id=match228></span></h2>
    <h2><span id=match229></span></h2>
    <h2><span id=match230></span></h2>
    <h2><span id=match231></span></h2>
    <h2><span id=match232></span></h2>
    <h2><span id=match233></span></h2>
    <h2><span id=match234></span></h2>
    <h2><span id=match235></span></h2>
    <h2><span id=match236></span></h2>
    <h2><span id=match237></span></h2>
    <h2><span id=match238></span></h2>
</body>

<script>
    function minmax(val, max, min) {
        return (val - min) / (max - min)
    }
    function calcaxis(v1, v2) {
        const V1 = parseFloat(v1)
        const V2 = parseFloat(v2)
        return Math.pow(Math.abs(V1 - V2) / 100, 3)
    }
    const keys = ["A1", "A2", "A3", "A4", "A5", "A6"]
    const weights = [1, 0.9, 1, 0.6, 0.6, 0.7]
    const axWeight = [10, 25, 45, 55, 75, 90, 100]
    function orderscores(scores, ideos) {
        let matches = new Array()
        for (const id of ideos) {
            let sum = new Number()
            for (const key in keys) {
                sum += weights[key] * calcaxis(scores[key], id.stats[keys[key]])
            }
            sum /= 6
            matches.push({
                "ideology": id.name,
                "score": sum
            })
        }
        matches.sort((a, b) => (a.score - b.score))
        for (const i in matches) {
            percentage = Math.round(10000 - (minmax((matches[0].score / matches[i].score) * 100, 0, 100) * 10000)) / 100
            document.getElementById("match" + i).textContent = `${i}. ${matches[i].ideology} ${percentage}%`
        }
    }
    const rawResults = window.location.search.substring(1)
    const results = rawResults.split(",")
    let allscores = [0, 0, 0, 0, 0, 0]
    for (const i in keys) {
        const res = parseFloat(results[i])
        allscores[i] = (Math.round(res * 10) / 10)
    }
    (async function () {
        const rawResults = window.location.search.substring(1)
        const results = rawResults.split(",")
        let allscores = [0, 0, 0, 0, 0, 0]
        await fetch("./json/ideologies.json")
            .then(response => response.json())
            .then(data => orderscores(results, data))
    })()
</script>